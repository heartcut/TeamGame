@page "/game/{test:int}"

@inject NavigationManager navManager

@if (DBConnection.CheckLobby(lobnum))
{
    //add player to lobby in db
    playnum = DBConnection.IJoined(lobnum);
    //code to populate the player in the db
    <GamePage MyLobbyNum="@lobnum" MyPlayerNum="@playnum" />
}
else
{
    navManager.NavigateTo("/lobbyfull");
}


@code {
    //to put into my game component
    int lobnum;
    int playnum;

    [Parameter]
    public int test { get; set; }

    protected override async Task OnInitializedAsync()
    {
        lobnum = test;
        //if (DBConnection.CheckLobby(lobnum))
        //{
        //    //code to populate the player in the db
        //}
        //else
        //{
        //    navManager.NavigateTo("/lobbyfull");
        //}
        //here i need to see if the lobby is full
        //and then set the vars
    }
    
}
